<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/0.4.0/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/0.4.0/firebase-ui-auth.css" />
    <script src="web/config.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Food Factory Zero</title>

    <!--<link href="./style.css" rel="stylesheet">-->

    <!-- Bootstrap core CSS -->
    <link href="web/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="web/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="web/css/freelancer.css" rel="stylesheet">

    <!-- Temporary navbar container fix -->
    <style>
    .navbar-toggler {
        z-index: 1;
    }
    
    @media (max-width: 576px) {
        nav > .container {
            width: 100%;
        }
    }
    </style>

</head>

<body class="index" id="page-top">

    <!-- Navigation -->
    <nav class="navbar fixed-top navbar-toggleable-md navbar-light" id="mainNav">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarExample" aria-controls="navbarExample" aria-expanded="false" aria-label="Toggle navigation">
            Menu <i class="fa fa-bars"></i>
        </button>
        <div class="container">
            <a class="navbar-brand" href="#page-top">Food Factory Zero</a>
            <div class="collapse navbar-collapse" id="navbarExample">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#play">Play</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
        <div class="container">
            <img class="img-fluid" src="web/images/logo.png" alt="">
            <div class="intro-text">
                <span class="name">Food Factory Zero</span>
                <hr class="star-light">
                <span class="skills">Make learning about Food Waste fun!</span>
            </div>
        </div>
    </header>

    <!-- Play Grid Section -->
    <section id="play">
        <div class="container">
            <h2 class="text-center">Play our game!</h2>
            <hr class="star-primary">

                         <p>
                         <div id="loading">Loading...</div>
                         <div id="loaded" class="hidden">
                         <div id="main">
                         <div id="user-signed-in" class="hidden">
                        <!--<p>-->
                        <button type="button" class="btn btn-success btn-lg btn-customlg btn-block mx-auto" onclick="link()">Play with google account</button>
                        <!--</p>-->
                        <!--<div id="user-info">
                        <div id="name"></div>
                        <div id="email"></div>
                        <div class="clearfix"></div>
                        </div>-->
                        <!--<p>-->
                        <button type="button" class="btn btn-success btn-lg btn-customlg btn-block mx-auto" id="sign-out">Sign Out</button>
                        <!--</p>-->
                        <!--<p>-->
                        <!--<button type="button" class="btn btn-success btn-lg btn-customlg btn-block mx-auto" id="delete-account">Delete account</button>-->
                        <!--</p>-->
                    </div>
                    <div id="user-signed-out" class="hidden">
                        <!--<p>-->
                          <button type="button" class="btn btn-success btn-lg btn-customlg btn-block mx-auto" onclick="noauthlink()">Play without sign in</button>
                        <!--</p>-->
                        <!--<p> or use google acccout to save your progress! </p>-->
                        <!--<h4>You are signed out.</h4>
                        <p>
                        <button id="sign-in-with-redirect">Sign In with Redirect</button>
                        <button id="sign-in-with-popup">Sign In with Popup</button>
                        </p>-->
                        <div id="firebaseui-spa">
                        <h5 class="text-center">or sign in to save progress:</h5>
                        <div id="firebaseui-container"></div>
                        </div>
                    </div>
                    </div>
                </div>
                <!--</div>-->
                        <!--</p>-->
                <script>
                    function link() {
                        document.location = "./play.html";
                    }
                    function noauthlink() {
                        firebase.auth().signOut();
                        document.location = "./play.html";
                    }
                </script>
                <script>
                    function authGoogleAc(){
                        let provider = new firebase.auth.GoogleAuthProvider();
                        firebase.auth().signInWithRedirect(provider);
                        firebase.auth().getRedirectResult().then(function(result) {
                            console.log("getRedirect success");
                            console.log(result.user);
                        // The firebase.User instance:
                        // var user = result.user;
                        // console.log(user);
                        // The Facebook firebase.auth.AuthCredential containing the Facebook
                        // access token:
                        // var credential = result.credential;
                        // As this API can be used for sign-in, linking and reauthentication,
                        // check the operationType to determine what triggered this redirect
                        // operation.
                        // var operationType = result.operationType;
                       document.location =  "./play.html";
                        }, function(error) {
                            console.log("getRedirect failed");
                        // The provider's account email, can be used in case of
                        // auth/account-exists-with-different-credential to fetch the providers
                        // linked to the email:
                        let email = error.email;
                        // The provider's credential:
                        let credential = error.credential;
                        // In case of auth/account-exists-with-different-credential error,
                        // you can fetch the providers using this:
                        if (error.code === 'auth/account-exists-with-different-credential') {
                            auth.fetchProvidersForEmail(email).then(function(providers) {
                            // The returned 'providers' is a list of the available providers
                            // linked to the email address. Please refer to the guide for a more
                            // complete explanation on how to recover from this error.
                            });
                        }
                        });
                    }
                </script>
                <!--<h3>FirebaseUI Demo</h3>
                <div id="loading">Loading...</div>
                <div id="loaded" class="hidden">
                    <div id="main">
                    <div id="user-signed-in" class="hidden">
                        <div id="user-info">
                        <div id="name"></div>
                        <div id="email"></div>
                        <div class="clearfix"></div>
                        </div>
                        <p>
                        <button id="sign-out">Sign Out</button>
                        <button id="delete-account">Delete account</button>
                        </p>
                    </div>
                    <div id="user-signed-out" class="hidden">
                        <h4>You are signed out.</h4>
                        <p>
                        <button id="sign-in-with-redirect">Sign In with Redirect</button>
                        <button id="sign-in-with-popup">Sign In with Popup</button>
                        </p>
                        <div id="firebaseui-spa">
                        <h5>Single Page Application mode:</h5>
                        <div id="firebaseui-container"></div>
                        </div>
                    </div>
                    </div>
                </div>
                </div>-->
                <script src="web/app.js"></script>
        </div>
    </section>

    <!-- About Section -->
    <section class="success" id="about">
        <div class="container">
            <h2 class="text-center">About</h2>
            <hr class="star-light">
            <div class="row">
                <div class="embed-responsive embed-responsive-4by3">
                    <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/oa9z1iP0_xQ"></iframe>
                </div>
                <!--<div class="col-lg-4 offset-lg-2">-->
                    <p>Food Factory Zero is an time-based drag and drop game created to make learning process fun.</p>
                <!--</div>-->
                <!--</div>&ndash;&gt;-->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <h2 class="text-center">Contact us</h2>
            <hr class="star-primary">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                    <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                    <form name="sentMessage" id="contactForm" novalidate>
                        <div class="control-group">
                            <div class="form-group floating-label-form-group controls">
                                <label>Name</label>
                                <input class="form-control" id="name" type="text" placeholder="Name" required data-validation-required-message="Please enter your name.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="form-group floating-label-form-group controls">
                                <label>Email Address</label>
                                <input class="form-control" id="email" type="email" placeholder="Email Address" required data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="form-group floating-label-form-group controls">
                                <label>Phone Number</label>
                                <input class="form-control" id="phone" type="tel" placeholder="Phone Number" required data-validation-required-message="Please enter your phone number.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="form-group floating-label-form-group controls">
                                <label>Message</label>
                                <textarea class="form-control" id="message" rows="5" placeholder="Message" required data-validation-required-message="Please enter a message."></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <br>
                        <div id="success"></div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-lg">Send</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Location</h3>
                        <p>3700 Willingdon Avenue
                            <br>Burnaby, BC V5G 3H2</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Around the Web</h3>
                        <ul class="list-inline">
                            <li class="list-inline-item">
                                <a class="btn-social btn-outline" href="#"><i class="fa fa-fw fa-facebook"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a class="btn-social btn-outline" href="#"><i class="fa fa-fw fa-google-plus"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a class="btn-social btn-outline" href="#"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a class="btn-social btn-outline" href="#"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a class="btn-social btn-outline" href="#"><i class="fa fa-fw fa-dribbble"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Food Factory Zero 2017
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top hidden-lg-up">
        <a class="btn btn-primary page-scroll" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

    <!-- Bootstrap core JavaScript -->
    <script src="web/vendor/jquery/jquery.min.js"></script>
    <script src="web/vendor/tether/tether.min.js"></script>
    <script src="web/vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="web/vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="web/js/jqBootstrapValidation.js"></script>
    <script src="web/js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="web/js/freelancer.min.js"></script>

</body>

</html>
